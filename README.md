# Планировщик задач

## Описание

Планировщик задач - это программа, которая позволяет пользователю планировать и управлять задачами. Он предоставляет интерфейс для создания, редактирования, и удаления задач, а также для просмотра списка задач.
Ещё одной особенностью является возможность задавать повторение задач с определённой периодичностью, что позволяет автоматизировать выполнение рутинных действий.

## Принцип работы
Планировщик задач написан на языке Go и работает через веб-интерфейс, который позволяет пользователю взаимодействовать с программой через браузер.
Задачи хранятся в реляционной базе данных и для взаимодействия с ней используется СУБД SQLite.

## Список дополнительных возможностей программы
- [x] Реализована возможность задавать параметры сервера через переменные окружения:
    - TODO_PORT - порт, на котором будет запущен сервер (по умолчанию 7540)
    - TODO_DBFILE - путь к файлу базы данных (по умолчанию "../scheduler.db")
    - TODO_PASSWORD - пароль для доступа к стартовой странице в браузере (по умолчанию "12345")
- [x] Реализована возможность задавать периодичность выполнения задач:
    - в указанные дни недели
    - в указанные дни месяца
- [x] Реализована возможность поиска задач по названию, комментарию или дате в веб-интерфейсе в поле "Поиск"
- [x] Добавлен механизм аутентификации для доступа к веб-интерфейсу
- [x] Реализована возможность создания Docker-контейнера для запуска планировщика задач

## Инструкция по запуску кода локально
1. Установите Go (версия 1.24 или выше)
2. Склонируйте репозиторий:
   ```bash
   git clone https://github.com/somepgs/go_final_project.git
    ```
3. Перейдите в директорию проекта:
   ```bash
   cd go_final_project
   ```
4. Установите зависимости и переменные окружения:
   ```bash
   go mod tidy
   export TODO_PORT=7540
   export TODO_DBFILE="../scheduler.db"
   export TODO_PASSWORD="12345"
   ```
5. Запустите сервер:
   ```bash
    go run main.go
    ```
6. Откройте браузер и перейдите по адресу `http://localhost:7540` для доступа к веб-интерфейсу планировщика задач.
7. Войдите в систему, используя пароль, указанный в переменной окружения `TODO_PASSWORD`.
8. Теперь вы можете создавать, редактировать и удалять задачи, а также просматривать список задач.
9. Для остановки сервера нажмите `Ctrl+C` в терминале, где запущен сервер.

## Инструкция по запуску тестов
Перед запуском тестов необходимо задать следующие параметры в файле tests/settings.go:
```go
package tests

var Port = 7540
var DBFile = "../scheduler.db"
var FullNextDate = true
var Search = true
var Token = `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwd2RfaGFzaCI6IjU5OTQ0NzFhYmIwMTExMmFmY2MxODE1OWY2Y2M3NGI0ZjUxMWI5OTgwNmRhNTliM2NhZjVhOWMxNzNjYWNmYzUifQ.UwRBAo6VfqwguZmPVik_Zha5W_tJIPUdvFVX6nWAuZI`
```
10. Запустите тесты:
    ```bash
    go test ./tests
    ```

## Инструкция по запуску в Docker
1. Убедитесь, что у вас установлен Docker.
2. Перейдите в директорию проекта:
   ```bash
   cd go_final_project
   ```
3. Соберите Docker-образ:
   ```bash
    docker build -temp todo-app .
    ```
4. Запустите контейнер:
5. ```bash
    docker run -p 7540:7540 todo-app
    ```
6. Откройте браузер и перейдите по адресу `http://localhost:7540` для доступа к веб-интерфейсу планировщика задач.
7. Войдите в систему, используя пароль, указанный в переменной окружения `TODO_PASSWORD`.
8. Теперь вы можете создавать, редактировать и удалять задачи, а также просматривать список задач.
9. Для остановки контейнера выполните команду:
   ```bash
   docker stop todo-app
   ```
10. Для удаления контейнера выполните команду:
    ```bash
    docker rm todo-app
    ```
